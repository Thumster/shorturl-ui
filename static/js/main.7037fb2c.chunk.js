(this["webpackJsonpshorturl-ui"]=this["webpackJsonpshorturl-ui"]||[]).push([[0],{164:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s.n(r),c=s(10),n=s.n(c),o=(s(58),s(15)),i=s(169),l=s(167),u=s(168),d=s(22),p=s(49),j=s.n(p),h="/create",b={createShorturl:function(e){var t={url:e};return j.a.post("http://shorturlservice-env.eba-umwheeti.ap-southeast-1.elasticbeanstalk.com"+h,t,{headers:{"Content-Type":"application/json"}})}},v=s(50),m=s.n(v),g=s.p+"static/media/logo.a441df0c.png",O=s.p+"static/media/copy.9f9b3700.svg",x=(s(80),s(81),s(6));var f=function(e){var t=e.response,s=t.message,r=t.type,a=t.link;return Object(x.jsx)(u.a,{className:"response",variant:r,onClick:function(){a&&navigator.clipboard.writeText(a)},children:Object(x.jsxs)("div",{className:"response-body",children:[Object(x.jsxs)("div",{className:"text-container",children:[s,a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("br",{}),a]})]}),Object(x.jsx)("div",{className:"copy-icon-container",children:Object(x.jsx)("img",{className:"copy-icon",src:O,alt:"copy"})})]})})},_=function(){var e=Object(d.usePromiseTracker)().promiseInProgress,t="success",s="danger",a={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!0,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,disallow_auth:!1,validate_length:!0},c=Object(r.useState)(!1),n=Object(o.a)(c,2),u=n[0],p=n[1],j=Object(r.useState)(!1),h=Object(o.a)(j,2),v=h[0],O=h[1],_=Object(r.useState)(null),y=Object(o.a)(_,2),N=y[0],S=y[1],k=function(e){return!!m.a.isURL(e,a)};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("header",{className:"App-header",children:Object(x.jsxs)("div",{className:"user-form-container",children:[Object(x.jsx)("h3",{children:"Shorturl"}),Object(x.jsx)("img",{src:g,className:"App-logo",alt:"logo"}),Object(x.jsxs)(i.a,{className:"user-form",onSubmit:function(e){var r;e.preventDefault(),S(null);var a=e.currentTarget,c=null===(r=e.target[0])||void 0===r?void 0:r.value,n=a.checkValidity()&&k(c);n?n&&Object(d.trackPromise)(b.createShorturl(c).then((function(e){S({message:"Successfully created Shorturl!",link:e.data.shortUrl,type:t}),O(!1),p(!1)})).catch((function(e){var t,r,a;e.response?t="Unsuccessful! \n"+(null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message):t="Failed to connect to server!";S({message:t,type:s})}))):(e.stopPropagation(),O(!0),p(!1))},noValidate:!0,children:[Object(x.jsx)(i.a.Label,{children:"Enter the URL to shorten"}),Object(x.jsx)(i.a.Control,{onChange:function(e){e.preventDefault();var t=k(e.target.value);p(t),O(!t)},isValid:u,isInvalid:v,placeholder:"https://example.com",required:!0}),Object(x.jsx)(i.a.Control.Feedback,{type:"invalid",children:"Please provide a valid URL"}),(null===N||void 0===N?void 0:N.type)&&Object(x.jsx)(f,{response:N}),e&&Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:g,className:"spinner-logo",alt:"logo"})}),Object(x.jsx)(l.a,{className:"button-submit",type:"submit",children:"Generate Shorturl"})]})]})})})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,170)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),r(e),a(e),c(e),n(e)}))};n.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(_,{})}),document.getElementById("root")),y()},58:function(e,t,s){},80:function(e,t,s){}},[[164,1,2]]]);
//# sourceMappingURL=main.7037fb2c.chunk.js.map