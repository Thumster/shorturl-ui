(this["webpackJsonpshorturl-ui"]=this["webpackJsonpshorturl-ui"]||[]).push([[0],{164:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r.n(s),c=r(10),n=r.n(c),o=(r(58),r(15)),i=r(169),l=r(167),u=r(168),d=r(22),p=r(49),j=r.n(p),h="/create",b={createShorturl:function(e){var t={url:e};return j.a.post("http://shorturl.sytes.net"+h,t,{headers:{"Content-Type":"application/json"}})}},v=r(50),m=r.n(v),g=r.p+"static/media/logo.a441df0c.png",O=r.p+"static/media/copy.9f9b3700.svg",x=(r(80),r(81),r(6));var f=function(e){var t=e.response,r=t.message,s=t.type,a=t.link;return Object(x.jsx)(u.a,{className:"response",variant:s,onClick:function(){a&&navigator.clipboard.writeText(a)},children:Object(x.jsxs)("div",{className:"response-body",children:[Object(x.jsxs)("div",{className:"text-container",children:[r,a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("br",{}),a]})]}),Object(x.jsx)("div",{className:"copy-icon-container",children:Object(x.jsx)("img",{className:"copy-icon",src:O,alt:"copy"})})]})})},y=function(){var e=Object(d.usePromiseTracker)().promiseInProgress,t="success",r="danger",a={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!0,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,disallow_auth:!1,validate_length:!0},c=Object(s.useState)(!1),n=Object(o.a)(c,2),u=n[0],p=n[1],j=Object(s.useState)(!1),h=Object(o.a)(j,2),v=h[0],O=h[1],y=Object(s.useState)(null),_=Object(o.a)(y,2),N=_[0],S=_[1],k=function(e){return!!m.a.isURL(e,a)};return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("header",{className:"App-header",children:Object(x.jsxs)("div",{className:"user-form-container",children:[Object(x.jsx)("h3",{children:"Shorturl"}),Object(x.jsx)("img",{src:g,className:"App-logo",alt:"logo"}),Object(x.jsxs)(i.a,{className:"user-form",onSubmit:function(e){var s;e.preventDefault(),S(null);var a=e.currentTarget,c=null===(s=e.target[0])||void 0===s?void 0:s.value,n=a.checkValidity()&&k(c);n?n&&Object(d.trackPromise)(b.createShorturl(c).then((function(e){S({message:"Successfully created Shorturl!",link:e.data.shortUrl,type:t}),O(!1),p(!1)})).catch((function(e){var t,s,a;e.response?t="Unsuccessful! \n"+(null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message):t="Failed to connect to server!";S({message:t,type:r})}))):(e.stopPropagation(),O(!0),p(!1))},noValidate:!0,children:[Object(x.jsx)(i.a.Label,{children:"Enter the URL to shorten"}),Object(x.jsx)(i.a.Control,{onChange:function(e){e.preventDefault();var t=k(e.target.value);p(t),O(!t)},isValid:u,isInvalid:v,placeholder:"https://example.com",required:!0}),Object(x.jsx)(i.a.Control.Feedback,{type:"invalid",children:"Please provide a valid URL"}),(null===N||void 0===N?void 0:N.type)&&Object(x.jsx)(f,{response:N}),e&&Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:g,className:"spinner-logo",alt:"logo"})}),Object(x.jsx)(l.a,{className:"button-submit",type:"submit",children:"Generate Shorturl"})]})]})})})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,170)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,n=t.getTTFB;r(e),s(e),a(e),c(e),n(e)}))};n.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),_()},58:function(e,t,r){},80:function(e,t,r){}},[[164,1,2]]]);
//# sourceMappingURL=main.f6bb25a0.chunk.js.map